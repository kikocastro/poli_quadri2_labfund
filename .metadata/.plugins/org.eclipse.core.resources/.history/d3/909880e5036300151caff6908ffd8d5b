package mvn.dispositivo;

import static org.junit.Assert.*;
import mvn.Bits8;
import mvn.controle.MVNException;

import org.junit.Test;

public class CounterTest {
	
	Counter counter = new Counter();

	@Test
	public void testCounter() throws MVNException {
		Bits8 counterValue = counter.ler();
		assertEquals("Counter must be 0 when created", 0, counterValue.toInt());
	}

	@Test
	public void testEscrever() {
		fail("Not yet implemented");
	}


	@Test
	public void testPodeLerWhenLessThanFF() {
		counter.escrever(new Bits8(254));
		assertTrue("Allowed to write when value less than FF", counter.podeEscrever());
	}

	@Test
	public void testPodeLerWhenEqualsToFF() {		
		counter.escrever(new Bits8(255));
		assertFalse("Not allowed to write when value greater or equal to FF", counter.podeEscrever());	
	}

	@Test
	public void testPodeEscrever() {
		assertTrue(counter.podeEscrever());
	}

	@Test
	public void testPosition() {
		fail("Not yet implemented");
	}

	@Test
	public void testSize() {
		counter.escrever(new Bits8(1));
		Bits8 size;
		try {
			size = counter.size();
		} catch (MVNException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		assertEquals(254, size.toInt());
	}

	@Test
	public void testSkip() {
		fail("Not yet implemented");
	}

}
